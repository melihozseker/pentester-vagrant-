class java {
  $java_pkgs_absent = ["openjdk-6-jre", "openjdk-6-jre-headless", "openjdk-6-jre-lib"]
  package { $java_pkgs_absent:
    ensure  => absent,
  }

  $java_pkgs_present = ["openjdk-7-jre", "openjdk-7-jre-headless", "openjdk-7-jre-lib"]
  package { $java_pkgs_present:
    ensure => present,
    require => Exec["apt-get update"]
  }
}
