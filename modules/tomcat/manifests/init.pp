class tomcat {
  $packages = ["tomcat7", "tomcat7-docs", "tomcat7-admin"]
  package { $packages:
    ensure  => present,
    require => Exec["apt-get update"]
  }

  file { "/etc/tomcat7/tomcat-users.xml":
      mode    => 0640,
      owner   => root,
      group   => tomcat7,
      source  => "puppet:///modules/tomcat/tomcat-users.xml",
      require => Package["tomcat7"]
  }
}
